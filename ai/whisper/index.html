<!DOCTYPE html>
<html lang="en">
<head>

    <!-- Base -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="Pelican" />
    <meta name="author" content="Nic Deville">

<!-- Title -->
<title>Whisper | Nic's notes</title>
<meta name="og:title" content="Whisper | Nic's notes"/> <!-- 40 characters for mobile and 60 for desktop -->
<link rel="canonical" href="https://notes.nicolasdeville.com/ai/whisper" />
<meta name="twitter:title" content="Whisper | Nic's notes" /> <!-- max. 70 characters -->

<meta name="description" content="OpenAI's neural net for speech recognition"/>
<meta property="og:description" content="OpenAI's neural net for speech recognition"/>
<meta name="twitter:description" content="OpenAI's neural net for speech recognition" /> <!-- max. 200 characters -->
 

<meta property="article:published_time" content="2023-03-11 12:37:01.095494+01:00" />

<meta property="article:modified_time" content="2023-03-11 12:37:01.095494+01:00" />

<meta name="robots" content="all, follow" />

<!-- Social -->
<meta property="og:type" content="article" />

<!-- <meta property="og:description" content="Messy online notebook covering B2B Sales, Leadership, Python programming, Automation, AI and more. I take these notes for myself (and my kids later) - perhaps they can help someone else..." /> min. 2 max. 4 sentences -->

<meta property="og:url" content="https://notes.nicolasdeville.com/ai/whisper" /> <!-- canonical URL for your page without session variables, user id parameters or counters -->
<meta property="og:site_name" content="Nic's notes" />
<meta name="image" property="og:image" content="https://notes.nicolasdeville.com/images/notes-twitter-image.jpg" /> <!-- at least 600x315 pixels, preferable 1200x630 pixels -->

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@ndeville" />

<meta name="twitter:image" content="https://notes.nicolasdeville.com/images/notes-twitter-image.jpg" /> <!-- aspect ratio of 2:1 with minimum dimensions of 300x157 or maximum of 4096x4096 pixels. Going with 900x471 -->

<!-- Logo -->
<meta property="og:logo" content="https://notes.nicolasdeville.com/logo.svg">

<!-- Favicon -->
<link rel="icon" type="image/x-icon" href="https://notes.nicolasdeville.com/favicon.ico">
<link rel="mask-icon" href="https://notes.nicolasdeville.com/favicon.svg" color="#FFFFFF">
<link rel="alternate icon" class="js-site-favicon" type="image/png" href="https://notes.nicolasdeville.com/favicon.png">
<link rel="icon" class="js-site-favicon" type="image/svg+xml" href="https://notes.nicolasdeville.com/favicon.svg">
<link rel="fluid-icon" href="https://notes.nicolasdeville.com/favicon.png" title="Nic's notes">

<!-- CSS -->
<link rel="stylesheet" href="https://notes.nicolasdeville.com/theme/css/main.css" />

<!-- Pagefind -->
<link href="https://notes.nicolasdeville.com/theme/css/pagefind-ui-nic.css" rel="stylesheet">
<script src="https://notes.nicolasdeville.com/pagefind/pagefind-ui.js" type="text/javascript"></script>

<script>
    window.addEventListener('DOMContentLoaded', (event) => {
        new PagefindUI({ element: "#search" });
    });
</script>


</head>

<body id="index" class="body">
        <header id="banner" class="body">

            <div class="logo-and-search">
                <a href="https://notes.nicolasdeville.com/"><img class="header_image" src="https://notes.nicolasdeville.com/images/nic_notes_header.svg" alt="Nic's notes" width="266"/></a>

                <!-- for Stork seach engine -->
                <!-- <div class="search-input-block">
                    <input data-stork="sitesearch" class="search-input" placeholder="Search notes..." autofocus="autofocus"/>
                    <div data-stork="sitesearch-output"></div>
                </div> -->

                <!-- Pagefind -->
                <div class="search-input-block" id="search"></div>

            </div>

            

            <div class="above-navbar">
                <div class="last_updated">23 Mar 2023 | 21:39</div>
                <div>
                    <p class="notes_count">
                        <a href="https://notes.nicolasdeville.com/tags">by tags</a>
                        <span style="color:#C74350">|</span>
                        <a href="https://notes.nicolasdeville.com/2020/">2020</a>
                        <span style="color:#C74350">|</span>
                        <a href="https://notes.nicolasdeville.com/2021/">2021</a>
                        <span style="color:#C74350">|</span>
                        <a href="https://notes.nicolasdeville.com/2022/">2022</a>
                        <span style="color:#C74350">|</span>
                        708 notes
                    </p>
                </div>
            </div>

            <nav><ul>
                <li class="active"><a href="https://notes.nicolasdeville.com/ai/">ai</a></li>
                <li><a href="https://notes.nicolasdeville.com/apps/">apps</a></li>
                <li><a href="https://notes.nicolasdeville.com/b2b-sales/">b2b sales</a></li>
                <li><a href="https://notes.nicolasdeville.com/books/">books</a></li>
                <li><a href="https://notes.nicolasdeville.com/careerplaybook/">#careerplaybook</a></li>
                <li><a href="https://notes.nicolasdeville.com/helpers/">helpers</a></li>
                <li><a href="https://notes.nicolasdeville.com/home-office/">home office</a></li>
                <li><a href="https://notes.nicolasdeville.com/interests/">interests</a></li>
                <li><a href="https://notes.nicolasdeville.com/leadership/">leadership</a></li>
                <li><a href="https://notes.nicolasdeville.com/learning/">learning</a></li>
                <li><a href="https://notes.nicolasdeville.com/movies/">movies</a></li>
                <li><a href="https://notes.nicolasdeville.com/projects/">projects</a></li>
                <li><a href="https://notes.nicolasdeville.com/python/">python</a></li>
                <li><a href="https://notes.nicolasdeville.com/random/">random</a></li>
                <li><a href="https://notes.nicolasdeville.com/research/">research</a></li>
                <li><a href="https://notes.nicolasdeville.com/startups/">startups</a></li>
            </ul></nav>
        </header>

        <!-- index.html injection -->
<section id="content" class="body">
    <article>
        <header>
            <h1 class="entry-title">
                <main> <!-- for indexing by Stork -->
                    <a href="https://notes.nicolasdeville.com/ai/whisper" rel="bookmark"
                    title="Permalink to Whisper">Whisper
                    </a>
                </main>
            </h1>
            <p class="header_summary">
                <main> <!-- for indexing by Stork -->
                    <p>OpenAI's neural net for speech recognition</p>
                </main>
            </p>
        </header>

        <div class="entry-content">
<footer class="post-info">

    <p>
        11 Mar 2023 
        <span class="separator">|</span> in <a class="link_tag" href="https://notes.nicolasdeville.com/ai/"><span data-pagefind-filter="category">ai</span></a>

 tags: <a class="link_tag" href="https://notes.nicolasdeville.com/tag/python.html">python</a>
<a class="link_tag" href="https://notes.nicolasdeville.com/tag/speech-recognition.html">speech recognition</a>

        <!-- added 4/7 -->
        <!-- 		<br />
        <abbr class="modified" title="2023-03-11T12:37:01.095494+01:00">
                Updated: 11 Mar 2023
        </abbr>
 -->

    </p>

    

</footer>            <!-- for indexing by Stork -->
            <!-- <main>  -->
                <div class="toc"><span class="toctitle">Table of Contents</span><ul>
<li><a href="#3rd-party-resources">3rd Party Resources</a></li>
<li><a href="#getting-started">Getting Started</a><ul>
<li><a href="#install">install</a></li>
<li><a href="#usage">usage</a><ul>
<li><a href="#response-structure">response structure</a></li>
<li><a href="#testing-for-meeting-recordings">testing for meeting recordings</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#testing-models">Testing models</a><ul>
<li><a href="#testing-long-file">testing long file</a></li>
</ul>
</li>
<li><a href="#command-line">Command line</a></li>
</ul>
</div>
<p><span class="datestamp">23 Sep 2022</span>   </p>
<div class="link_border"><div class="link_logo_box"><img class="link_logo" src="https://notes.nicolasdeville.com/images/logos/openai.png" alt="logo"/></div><div class="link_content">
<div class="link_title">Introducing Whisper | OpenAI</div>
<div class="link_tagline">openai</div>
<div class="link_url"><a href="https://openai/blog/whisper/" target="_blank">https://openai/blog/whisper/</a></div></div></div>

<div class="book_quote">
<div class="book_quote_highlight">Whisper is an automatic speech recognition (ASR) system trained on 680,000 hours of multilingual and multitask supervised data collected from the web. We show that the use of such a large and diverse dataset leads to improved robustness to accents, background noise and technical language. Moreover, it enables transcription in multiple languages, as well as translation from those languages into English. We are open-sourcing models and inference code to serve as a foundation for building useful applications and for further research on robust speech processing.</div>
<div class="book_quote_location"><a href="https://openai/blog/whisper/" target="_blank">https://openai/blog/whisper/</a></div></div>

<p>Paper: <a href="https://notes.nicolasdeville.com/pdfs/whisper.pdf">Robust Speech Recognition via Large Scale Weak Supervision</a>   </p>
<p>Model Card (?):  </p>
<div class="link_border"><div class="link_logo_box"><img class="link_logo" src="https://notes.nicolasdeville.com/images/logos/github.png" alt="logo"/></div><div class="link_content">
<div class="link_title">whisper/model-card.md at main · openai/whisper · GitHub</div>
<div class="link_tagline">Model Card: Whisper</div>
<div class="link_url"><a href="https://github/openai/whisper/blob/main/model-card.md" target="_blank">https://github/openai/whisper/blob/main/model-card.md</a></div></div></div>

<h1 id="3rd-party-resources">3rd Party Resources</h1>
<div class="link_border"><div class="link_logo_box"><img class="link_logo" src="https://notes.nicolasdeville.com/images/logos/assemblyai.png" alt="logo"/></div><div class="link_content">
<div class="link_title">How to Run OpenAI’s Whisper Speech Recognition Model</div>
<div class="link_tagline">assemblyai</div>
<div class="link_url"><a href="https://www.assemblyai/blog/how-to-run-openais-whisper-speech-recognition-model/" target="_blank">https://www.assemblyai/blog/how-to-run-openais-whisper-speech-recognition-model/</a></div></div></div>

<div class="link_border"><div class="link_logo_box"><img class="link_logo" src="https://notes.nicolasdeville.com/images/logos/ycombinator.png" alt="logo"/></div><div class="link_content">
<div class="link_title">Whisper – open source speech recognition by OpenAI | Hacker News</div>
<div class="link_tagline">ycombinator</div>
<div class="link_url"><a href="https://news.ycombinator/item?id=32927360" target="_blank">https://news.ycombinator/item?id=32927360</a></div></div></div>

<h1 id="getting-started">Getting Started</h1>
<div class="link_border"><div class="link_logo_box"><img class="link_logo" src="https://notes.nicolasdeville.com/images/logos/github.png" alt="logo"/></div><div class="link_content">
<div class="link_title">GitHub - openai/whisper</div>
<div class="link_tagline">github</div>
<div class="link_url"><a href="https://github/openai/whisper" target="_blank">https://github/openai/whisper</a></div></div></div>

<h2 id="install">install</h2>
<div class="highlight"><pre><span></span><code>pip3 install git+https://github/openai/whisper.git 
</code></pre></div>

<h2 id="usage">usage</h2>
<p>Working 1st try:  <br>
- in less than 3mns <br>
- with a <code>.m4a</code> file (requiring no conversion to <code>.wav</code>)  <br>
- with 4 lines of code (!) <br>
- with very good accuracy <br>
🤯 😁      </p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">whisper</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">whisper</span><span class="o">.</span><span class="n">load_model</span><span class="p">(</span><span class="s2">&quot;base&quot;</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">transcribe</span><span class="p">(</span><span class="s1">&#39;test/1.m4a&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="se">\n</span><span class="si">{</span><span class="n">result</span><span class="p">[</span><span class="s2">&quot;text&quot;</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</code></pre></div>

<p>What is missing for voice transcripts, is voice commands recognition, eg "comma", "new line", "full stop", etc..  </p>
<p>I can add those in my script though.  </p>
<p><span class="nic_link"><a href="https://notes.nicolasdeville.com/projects/transcribee" target="_blank">Transcribee</a></span>  </p>
<p><span class="datestamp">25 Sep 2022</span> </p>
<p>It also detects language automatically, and pretty accurately so far!   </p>
<h3 id="response-structure">response structure</h3>
<div class="highlight"><pre><span></span><code><span class="p">{</span>   <span class="s1">&#39;language&#39;</span><span class="p">:</span> <span class="s1">&#39;en&#39;</span><span class="p">,</span>
    <span class="s1">&#39;segments&#39;</span><span class="p">:</span> <span class="p">[</span>   <span class="p">{</span>   <span class="s1">&#39;avg_logprob&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                        <span class="s1">&#39;compression_ratio&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                        <span class="s1">&#39;end&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                        <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                        <span class="s1">&#39;no_speech_prob&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                        <span class="s1">&#39;seek&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                        <span class="s1">&#39;start&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                        <span class="s1">&#39;temperature&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
                        <span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                        <span class="s1">&#39;tokens&#39;</span><span class="p">:</span> <span class="p">[</span>   <span class="nb">int</span><span class="p">,</span>
                                      <span class="nb">int</span><span class="p">,</span>
                                      <span class="nb">int</span><span class="p">,</span>
                                      <span class="o">...</span><span class="p">,</span>
                                      <span class="p">]}],</span>
    <span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="nb">str</span> <span class="c1"># returned transcript</span>
<span class="p">}</span>
</code></pre></div>

<p>example:    </p>
<div class="highlight"><pre><span></span><code><span class="n">file</span> <span class="o">=</span> <span class="s1">&#39;test/test_from_watch.m4a&#39;</span>

<span class="kn">import</span> <span class="nn">whisper</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">whisper</span><span class="o">.</span><span class="n">load_model</span><span class="p">(</span><span class="s2">&quot;base&quot;</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">transcribe</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>

<span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div>

<p>outputs:  </p>
<div class="highlight"><pre><span></span><code>UserWarning: FP16 is not supported on CPU; using FP32 instead
  warnings.warn(&quot;FP16 is not supported on CPU; using FP32 instead&quot;)
Detected language: english
{   &#39;language&#39;: &#39;en&#39;,
    &#39;segments&#39;: [   {   &#39;avg_logprob&#39;: -0.4222838251214278,
                        &#39;compression_ratio&#39;: 0.9866666666666667,
                        &#39;end&#39;: 11.200000000000001,
                        &#39;id&#39;: 0,
                        &#39;no_speech_prob&#39;: 0.11099651455879211,
                        &#39;seek&#39;: 0,
                        &#39;start&#39;: 0.0,
                        &#39;temperature&#39;: 0.0,
                        &#39;text&#39;: &#39; This is a test of a transcript in English &#39;
                                &#39;recorded from my watch fullstop.&#39;,
                        &#39;tokens&#39;: [   50364,
                                      639,
                                      307,
                                      257,
                                      1500,
                                      295,
                                      257,
                                      24444,
                                      294,
                                      3669,
                                      8287,
                                      490,
                                      452,
                                      1159,
                                      1577,
                                      13559,
                                      13,
                                      50924]}],
    &#39;text&#39;: &#39; This is a test of a transcript in English recorded from my watch &#39;
            &#39;fullstop.&#39;}
</code></pre></div>

<p>Note: need to figure out what the <code>UserWarning</code> is about 🤔     </p>
<p><span class="datestamp">26 Sep 2022</span> </p>
<p>working really well in implementation now in use of Transcribee: <span class="nic_link"><a href="https://notes.nicolasdeville.com/projects/transcribee" target="_blank">Transcribee</a></span>   </p>
<h3 id="testing-for-meeting-recordings">testing for meeting recordings</h3>
<p>would be great to have a timed transcript, similar to a subtitle file.  </p>
<div class="link_border"><div class="link_logo_box"><img class="link_logo" src="https://notes.nicolasdeville.com/images/logos/github.png" alt="logo"/></div><div class="link_content">
<div class="link_title">Is there a way to create .srt with timings · Discussion #98 · openai/whisper · GitHub</div>
<div class="link_tagline">github</div>
<div class="link_url"><a href="https://github/openai/whisper/discussions/98" target="_blank">https://github/openai/whisper/discussions/98</a></div></div></div>

<p>found:   </p>
<div class="highlight"><pre><span></span><code><span class="c1"># Write a transcript to a file in SRT format.</span>
<span class="c1">#    Example usage:</span>
<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="kn">from</span> <span class="nn">whisper.utils</span> <span class="kn">import</span> <span class="n">write_srt</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">transcribe</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">audio_path</span><span class="p">,</span> <span class="n">temperature</span><span class="o">=</span><span class="n">temperature</span><span class="p">,</span> <span class="o">**</span><span class="n">args</span><span class="p">)</span>
<span class="c1"># save SRT</span>
<span class="n">audio_basename</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">audio_path</span><span class="p">)</span><span class="o">.</span><span class="n">stem</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="n">output_dir</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">audio_basename</span> <span class="o">+</span> <span class="s2">&quot;.srt&quot;</span><span class="p">),</span> <span class="s2">&quot;w&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">srt</span><span class="p">:</span>
    <span class="n">write_srt</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="s2">&quot;segments&quot;</span><span class="p">],</span> <span class="n">file</span><span class="o">=</span><span class="n">srt</span><span class="p">)</span>
</code></pre></div>

<p>from: <a href="https://github/openai/whisper/blob/main/whisper/utils.py" target="_blank">https://github/openai/whisper/blob/main/whisper/utils.py</a></p>
<p>Newest version includes a <code>write_srt</code> function. <br>
Need to update</p>
<h1 id="testing-models">Testing models</h1>
<p><span class="datestamp">29 Sep 2022</span> </p>
<p>Only used the <code>base</code> model so far.   </p>
<p><img class="screenshot" src="https://notes.nicolasdeville.com/images/whisper/whisper-models.jpg" alt="whisper/whisper-models.jpg"/>  </p>
<p>Testing <code>medium.en</code> now.   </p>
<p>1.42Gb download.  </p>
<p><img class="screenshot" src="https://notes.nicolasdeville.com/images/whisper/whisper-error-medium-en.jpg" alt="whisper/whisper-error-medium-en.jpg"/>  </p>
<p>Getting now a <code>ValueError(f"This model doesn't have language tokens so it can't perform lang id")</code>    </p>
<div class="link_border"><div class="link_logo_box"><img class="link_logo" src="https://notes.nicolasdeville.com/images/logos/github.png" alt="logo"/></div><div class="link_content">
<div class="link_title">Using English Models = "ValueError: This model doesn't have language tokens so it can't perform lang id" · Discussion #17 · openai/whisper · GitHub</div>
<div class="link_tagline">Using English Models = "ValueError: This model doesn't have language tokens so it can't perform lang id"              #17</div>
<div class="link_url"><a href="https://github/openai/whisper/discussions/17" target="_blank">https://github/openai/whisper/discussions/17</a></div></div></div>

<h3 id="testing-long-file">testing long file</h3>
<p><span class="datestamp">01 Oct 2022</span>  </p>
<p>With Tesla's AI Day online since today, I wanted to get a transcript of it. <br>
Video file downloaded from Youtube is 14Gb. <br>
Extracted audio-only <span class="nic_link"><a href="https://notes.nicolasdeville.com/helpers/extract-audio-from-video" target="_blank">How to extract audio from video on macOS</a></span> resulting in a 197Mb <code>.m4a</code> file.   </p>
<p>Good news:   </p>
<p>Whisper transcribed it in 133 minutes with settings as:      </p>
<div class="highlight"><pre><span></span><code><span class="n">model</span> <span class="o">=</span> <span class="n">whisper</span><span class="o">.</span><span class="n">load_model</span><span class="p">(</span><span class="s2">&quot;medium&quot;</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">transcribe</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span><span class="n">language</span><span class="o">=</span><span class="s1">&#39;english&#39;</span><span class="p">)</span> 
</code></pre></div>

<p>Bad news:  </p>
<p>152,288 characters on 7 lines! <br>
Hope to see improvements re layout and speaker recognition in future updates.   </p>
<p>Will check tomorrow for accuracy &amp; SRT implemenentation.   </p>
<p><span class="datestamp">04 Oct 2022</span> </p>
<p>SRT generation implemented with:  </p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">whisper.utils</span> <span class="kn">import</span> <span class="n">write_srt</span>

<span class="n">model</span> <span class="o">=</span> <span class="n">whisper</span><span class="o">.</span><span class="n">load_model</span><span class="p">(</span><span class="s2">&quot;medium&quot;</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">transcribe</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span><span class="n">language</span><span class="o">=</span><span class="s1">&#39;english&#39;</span><span class="p">)</span> 
<span class="c1"># text = response[&quot;text&quot;]</span>
<span class="c1"># language = response[&quot;language&quot;]</span>
<span class="n">srt</span> <span class="o">=</span> <span class="n">response</span><span class="p">[</span><span class="s2">&quot;segments&quot;</span><span class="p">]</span>

<span class="n">parent_folder</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">pardir</span><span class="p">))</span>

<span class="c1"># write SRT</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">parent_folder</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">uid</span><span class="si">}</span><span class="s2">.srt&quot;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">srt_file</span><span class="p">:</span>
    <span class="n">write_srt</span><span class="p">(</span><span class="n">srt</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">srt_file</span><span class="p">)</span>
</code></pre></div>

<p>Again, works surprisingly well 😁   </p>
<p>See example with a 3.5h video (transcribed in 2h) at <span class="nic_link"><a href="https://notes.nicolasdeville.com/interests/tesla-ai-day-2022" target="_blank">Tesla AI Day 2022</a></span>   </p>
<h1 id="command-line">Command line</h1>
<p>Can be used as </p>
<div class="highlight"><pre><span></span><code>whisper audio_or_video_file.m4a --language en --model medium
</code></pre></div>
            <!-- </main> -->
        </div><!-- /.entry-content -->
    </article>
</section>

        <!-- footer -->
        <section id="extras" class="body" data-pagefind-ignore>

        <!-- /.blogroll -->
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://btobsales.eu">Services: BtoBSales.EU</a></li>
                            <li><a href="https://indeXall.io">Side project: indeXall.io</a></li>
                            <li><a href="https://github.com/ndeville">Github: ndeville</a></li>
                        </ul>
                </div>

        <!-- /.social -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="https://www.linkedin.com/in/ndeville/">Linkedin</a></li>
                            <li><a href="https://www.twitter.com/ndeville">Twitter</a></li>
                        </ul>
                </div>
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body" data-pagefind-ignore>
                <address id="about" class="vcard body">
                    <img src="https://notes.nicolasdeville.com/favicon.svg" alt="nic_logo" width="24" style="vertical-align: middle;"/> Nic's notes:
                    <br>
                    <img src="https://notes.nicolasdeville.com/images/logos/getpelican.png" alt="pelican" width="16" style="vertical-align: middle;"/> Powered by <a href="https://getpelican.com" target="_blank">Pelican</a>
                    <br>
                    <img src="https://notes.nicolasdeville.com/images/logos/pagefind.png" alt="pagefind" width="16" style="vertical-align: middle;"/> Search by <a href="https://pagefind.app" target="_blank">Pagefind</a>
                    <br>
                    <img src="https://notes.nicolasdeville.com/images/logos/clearbit.png" alt="clearbit" width="16" style="vertical-align: middle;"/> Logos by <a href="https://clearbit.com" target="_blank">Clearbit</a>
                    <br>
                    <img src="https://notes.nicolasdeville.com/images/python.svg" alt="python_logo" width="16" style="vertical-align: middle;"/> Made with <a href="https://www.python.org/" target="_blank">Python</a>
                </address><!-- /#about -->

        </footer><!-- /#contentinfo -->


<!-- JS -->

<!-- my JS script (with code block copy) -->
<script src="https://notes.nicolasdeville.com/theme/js/nic.js"></script>

<!-- for Stork seach engine -->
<!-- <script src="https://files.stork-search.net/stork.js"></script>
<script>
    stork.register("sitesearch", "https://notes.nicolasdeville.com/search-index.st")
</script> -->

<!-- <script>
    (function() {
    if( window.innerWidth > 600 ) {
        var stork_script = document.createElement('script');
        stork_script.type = 'text/javascript';
        stork_script.src = 'https://files.stork-search.net/stork.js';

        var stork_register = ('script');
        stork_register.innerHTML = 'stork.register("sitesearch", "https://notes.nicolasdeville.com/search-index.st")';

        var head = document.getElementsByTagName('head')[0];
        head.appendChild(stork_script);
        head.appendChild(stork_register);


    }
    })();
</script> -->

</body>
</html>