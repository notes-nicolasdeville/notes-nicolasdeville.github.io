<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="Pelican" />
    <title>How to save confidential data in environment variables with dotenv</title>
    
    <!-- Logo -->
    <meta property="og:logo" content="https://notes.nicolasdeville.com/logo.svg">

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="https://notes.nicolasdeville.com/favicon.ico">
    <link rel="mask-icon" href="https://notes.nicolasdeville.com/favicon.svg" color="#FFFFFF">
    <link rel="alternate icon" class="js-site-favicon" type="image/png" href="https://notes.nicolasdeville.com/favicon.png">
    <link rel="icon" class="js-site-favicon" type="image/svg+xml" href="https://notes.nicolasdeville.com/favicon.svg">
    <link rel="fluid-icon" href="https://notes.nicolasdeville.com/favicon.png" title="Nic's notes">
    
    <!-- CSS -->
    <link rel="stylesheet" href="https://notes.nicolasdeville.com/theme/css/main.css" />



        <meta name="description" content="best practice is to never have passwords and alike in clear text in Python scripts - here is the solution I use" />

    <!-- for Stork seach engine -->
    <link rel="stylesheet" href="https://files.stork-search.net/basic.css" /> 
    <!-- <link rel="stylesheet" href="https://files.stork-search.net/releases/v1.5.0/edible.css" /> # tried 220924-->

</head>

<body id="index" class="body">
        <header id="banner" class="body">

            <div class="logo-and-search">
                <a href="https://notes.nicolasdeville.com/"><img class="header_image" src="https://notes.nicolasdeville.com/images/nic_notes_header.svg" alt="Nic's notes" width="266"/></a>

                <!-- for Stork seach engine -->
                <div class="search-input-block">
                    <input data-stork="sitesearch" class="search-input" placeholder="Search notes..." autofocus="autofocus"/>
                    <div data-stork="sitesearch-output"></div>
                </div>
            </div>

            <div class="above-navbar">
                <div class="last_updated">02 Oct 2022 | 09:37</div>
                <div>
                    <p class="notes_count">
                        <a href="https://notes.nicolasdeville.com/tags">by tags</a> 
                        <span style="color:#C74350">|</span> 
                        <a href="https://notes.nicolasdeville.com/2020/">2020</a>
                        <span style="color:#C74350">|</span>
                        <a href="https://notes.nicolasdeville.com/2021/">2021</a> 
                        <span style="color:#C74350">|</span>
                        <a href="https://notes.nicolasdeville.com/2022/">2022</a> 
                        <span style="color:#C74350">|</span> 
                        453 notes
                    </p>
                </div>
            </div>

            <nav><ul>
                <li><a href="https://notes.nicolasdeville.com/ai/">ai</a></li>
                <li><a href="https://notes.nicolasdeville.com/apps/">apps</a></li>
                <li><a href="https://notes.nicolasdeville.com/b2b-sales/">b2b sales</a></li>
                <li><a href="https://notes.nicolasdeville.com/books/">books</a></li>
                <li><a href="https://notes.nicolasdeville.com/careerplaybook/">#careerplaybook</a></li>
                <li><a href="https://notes.nicolasdeville.com/helpers/">helpers</a></li>
                <li><a href="https://notes.nicolasdeville.com/home-office/">home office</a></li>
                <li><a href="https://notes.nicolasdeville.com/interests/">interests</a></li>
                <li><a href="https://notes.nicolasdeville.com/leadership/">leadership</a></li>
                <li><a href="https://notes.nicolasdeville.com/learning/">learning</a></li>
                <li><a href="https://notes.nicolasdeville.com/movies/">movies</a></li>
                <li><a href="https://notes.nicolasdeville.com/projects/">projects</a></li>
                <li class="active"><a href="https://notes.nicolasdeville.com/python/">python</a></li>
                <li><a href="https://notes.nicolasdeville.com/random/">random</a></li>
                <li><a href="https://notes.nicolasdeville.com/startups/">startups</a></li>
                <li><a href="https://notes.nicolasdeville.com/tesla/">tesla</a></li>
            </ul></nav>
        </header>

<section id="content" class="body">
    <article>
        <header>
            <h1 class="entry-title">
                <main> <!-- for indexing by Stork -->
                    <a href="https://notes.nicolasdeville.com/python/library-dotenv" rel="bookmark"
                    title="Permalink to How to save confidential data in environment variables with dotenv">How to save confidential data in environment variables with dotenv
                    </a>
                </main>
            </h1>
            <p class="header_summary">
                <main> <!-- for indexing by Stork -->
                    <p>best practice is to never have passwords and alike in clear text in Python scripts - here is the solution I use</p>
                </main>
            </p>
        </header>

        <div class="entry-content">
<footer class="post-info">

    <p>
        25 Sep 2022 <span class="separator">|</span> in <a class="link_tag" href="https://notes.nicolasdeville.com/python/">python</a>
 tags: <a class="link_tag" href="https://notes.nicolasdeville.com/tag/python.html">python</a>
<a class="link_tag" href="https://notes.nicolasdeville.com/tag/snippets.html">snippets</a>

        <!-- added 4/7 -->
        <!-- 		<br />
        <abbr class="modified" title="2022-09-25T07:45:20.811677+02:00">
                Updated: 25 Sep 2022
        </abbr>
 -->

    </p>

    

</footer>            <main> <!-- for indexing by Stork -->
                <p><span class="datestamp">21 Jul 2022</span> starting note.   </p>
<table>
<thead>
<tr>
<th>Library resources</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>PyPI</td>
<td><a href="https://pypi.org/project/python-dotenv/" target="_blank">https://pypi.org/project/python-dotenv/</a></td>
</tr>
<tr>
<td>Github</td>
<td><a href="https://github.com/theskumar/python-dotenv" target="_blank">https://github.com/theskumar/python-dotenv</a></td>
</tr>
<tr>
<td>Documentation</td>
<td>---</td>
</tr>
</tbody>
</table>
<p>Python-dotenv reads key-value pairs from a <code>.env</code> file and can set them as environment variables.   </p>
<p>What this means is you can create a file called <code>.env</code> in your project(s) and store your confidential variables like passwords, tokens, access keys, IDs and anything you wish in it. You can then retrieve them from your Python scripts, so as to not display them in clear text there.  </p>
<p>Originally I did not see the point, as it felt it did not matter if my passwords are in clear text in my script, or in clear text in a different file in my folder.   </p>
<p>It clicked obviously when I started to share my code &amp; scripts - first with Github (workin with others, or archiving code there) then sharing my notes publicly here.  </p>
<p>See many examples, eg in <a href="../../python/library-tmdbapis/index.html">Nic Note: Library: tmdbapis | fetching movie data</a> where you will see <code>tmdb_api_key = os.getenv("TMDB_API_KEY")</code>.   </p>
<blockquote>
<p>IMPORTANT: when using Git - like Github - make sure to add <code>.env</code> in <code>.gitignore</code> so your file with all your confidential data doesn't end up exposed in your Github repo!    </p>
</blockquote>
<h1 id="setup">Setup</h1>
<p>install (ideally in virtual environment):    </p>
<div class="highlight"><pre><span></span><code>pip3 install python-dotenv  
</code></pre></div>

<h1 id="usage">Usage</h1>
<p>create a <code>.env</code> file at the root of your project folder. <br>
no file name, just <code>.env</code>. <br>
for example you can see it here as the first file at the root of the project folder I'm currently writing this in:      </p>
<div class="highlight"><pre><span></span><code>.
├── .env &lt;------------------------
├── .gitignore
├── format.py
├── generate_sitemap.py
├── import_books_csv_to_grist.py
├── import_grist_books.py
├── import_homeoffice_setup_csv.py
├── import_notion_clipper.py
├── import_notion_markdown_files.py
├── import_old_ghost_blog_posts.py
├── notes
├── output
├── slugify_book_titles.py
├── test.py
├── text_to_html.py
├── tmdb_1000.py
├── tmdb_tmdbapis.py
├── tmdb_tmdbv3api.py
├── tmdb_top_rated.py
└── venv
</code></pre></div>

<p>The content of this <code>.env</code> file should be as follows:   </p>
<div class="highlight"><pre><span></span><code>key=value
key=value
</code></pre></div>

<p>for example for my TMDB scripts, I have:  </p>
<div class="highlight"><pre><span></span><code>TMDB_API_KEY=xxxxxxxxxxxx
TMDB_V4_TOKEN=xxxxxxxxxxxx
</code></pre></div>

<p>in your scripts just add then:   </p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">dotenv</span> <span class="kn">import</span> <span class="n">load_dotenv</span>
<span class="n">load_dotenv</span><span class="p">()</span>
</code></pre></div>

<blockquote>
<p>I use dotenv so much that the above snippet is part of my Python boilerplate which you can find here: <a href="../../python/boilerplate/index.html">Nic Note: My Python scripts boilerplate</a>  </p>
</blockquote>
<p>and then fetch the needed password/token/secret with:   </p>
<div class="highlight"><pre><span></span><code><span class="n">my_password</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="n">key_from_</span><span class="o">.</span><span class="n">env_file</span><span class="p">)</span>
</code></pre></div>

<p>for example:    </p>
<div class="highlight"><pre><span></span><code><span class="n">tmdb_api_key</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;TMDB_API_KEY&quot;</span><span class="p">)</span>
</code></pre></div>
            </main>
        </div><!-- /.entry-content -->
    </article>
</section>
        <section id="extras" class="body">

        <!-- /.blogroll -->
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://indeXall.io">Side project: indeXall.io</a></li>
                            <li><a href="https://btobsales.eu">Services: BtoBSales.EU</a></li>
                        </ul>
                </div>

        <!-- /.social -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="https://www.linkedin.com/in/ndeville/">Linkedin</a></li>
                            <li><a href="https://www.twitter.com/ndeville">Twitter</a></li>
                        </ul>
                </div>
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Powered by <a href="https://github.com/getpelican/pelican" target="_blank">Pelican</a>, 
                with <a href="https://stork-search.net/" target="_blank">Stork</a> & <a href="https://github.com/pelican-plugins/search" target="_blank">Pelican Search plugin</a>.
                <br>
                <a href="https://clearbit.com" target="_blank">Logos provided by Clearbit</a>
                <br>
                <!-- <span style="color:#C74350">|</span> <img src="https://notes.nicolasdeville.com/images/python.svg" alt="python_logo" width="16" style="vertical-align: middle;"/> <a href="https://www.python.org/" target="_blank">Python</a>  -->
                <img src="https://notes.nicolasdeville.com/images/python.svg" alt="python_logo" width="16" style="vertical-align: middle;"/> <a href="https://www.python.org/" target="_blank">Python</a> 
                </address><!-- /#about -->

        </footer><!-- /#contentinfo -->


<!-- JS -->

<!-- my JS script (with code block copy) -->
<script src="https://notes.nicolasdeville.com/theme/js/nic.js"></script>

<!-- for Stork seach engine -->
<!-- <script src="https://files.stork-search.net/releases/v1.2.1/stork.js"></script> #updated 220924 -->
<script src="https://files.stork-search.net/stork.js"></script>
<script>
    stork.register("sitesearch", "https://notes.nicolasdeville.com/search-index.st")
</script>

</body>
</html>